<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Teste Botões</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-dark text-white">
    <div class="container mt-5">
        <h2>Teste dos Botões</h2>
        
        <!-- Simulando dados básicos -->
        <div class="row g-3 mt-3">
            <div class="col-md-6">
                <button id="view-contract-btn" class="btn btn-success w-100 shadow">
                    <i class="bi bi-eye me-2"></i>Visualizar Contrato
                </button>
            </div>
            <div class="col-md-6">
                <button id="verify-contract-btn" class="btn w-100 shadow" style="background-color: #ED5A22; border-color: #ED5A22; color: white;">
                    <i class="bi bi-shield-check me-2"></i>Verificar Contrato
                </button>
            </div>
        </div>
        
        <div class="mt-3">
            <button onclick="testShowContract()" class="btn btn-info">Testar showContractModal</button>
            <button onclick="testOpenVerification()" class="btn btn-warning">Testar openVerificationUrl</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Simular AppState básico
        window.AppState = {
            tokenData: {
                name: 'Test Token',
                symbol: 'TST',
                totalSupply: '1000000',
                decimals: '18'
            },
            deployResult: {
                contractAddress: '0x1234567890123456789012345678901234567890',
                sourceCode: null
            },
            wallet: {
                network: {
                    chainId: 97
                }
            }
        };

        function testShowContract() {
            console.log('Testando showContractModal...');
            alert('showContractModal seria chamada aqui');
        }

        function testOpenVerification() {
            console.log('Testando openVerificationUrl...');
            const chainId = AppState.wallet.network?.chainId || 97;
            let verificationUrl = '';
            
            switch (chainId) {
                case 97:
                    verificationUrl = `https://testnet.bscscan.com/verifyContract?a=${AppState.deployResult.contractAddress}`;
                    break;
                default:
                    verificationUrl = `https://etherscan.io/verifyContract?a=${AppState.deployResult.contractAddress}`;
            }
            
            console.log('URL:', verificationUrl);
            window.open(verificationUrl, '_blank');
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM carregado, configurando botões...');
            
            const viewBtn = document.getElementById('view-contract-btn');
            const verifyBtn = document.getElementById('verify-contract-btn');
            
            if (viewBtn) {
                viewBtn.addEventListener('click', function() {
                    console.log('Botão Visualizar clicado!');
                    testShowContract();
                });
                console.log('Event listener adicionado ao botão visualizar');
            } else {
                console.log('Botão visualizar não encontrado!');
            }
            
            if (verifyBtn) {
                verifyBtn.addEventListener('click', function() {
                    console.log('Botão Verificar clicado!');
                    testOpenVerification();
                });
                console.log('Event listener adicionado ao botão verificar');
            } else {
                console.log('Botão verificar não encontrado!');
            }
        });
    </script>
</body>
</html>
